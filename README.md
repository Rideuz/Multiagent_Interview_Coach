# Multi-Agent Interview Coach

Система из нескольких AI-агентов для технического интервью с системой мышления перед ответом.

## Установка

```bash
pip install -r requirements.txt
```

 в `config.py` задайте свой Api-ключ, модель генерации.

```
MULEROUTER_API_KEY=sk-mr-your-key
MULEROUTER_BASE_URL=https://api.mulerouter.ai/vendors/openai/v1
INTERVIEW_LLM_MODEL=qwen3-max
INTERVIEW_LOG_FILE=interview_log.json
```

## Запуск

```bash
python main.py
```

При запуске можно выбрать:

1. **Пошаговый ввод** — ФИО, позиция, грейд, опыт, затем диалог вручную.
2. **Текст самопрезентации** — вставьте неструктурированный текст (например: «Я Александр, 5 лет Backend…»); агент **Extractor** извлечёт имя, позицию, грейд, опыт.
3. **JSON-файл** — путь к файлу с полями **имя, позиция, грейд, опыт, поведение** (список ответов по вопросам для сценария). Пример: `example_candidate.json`.

Для завершения введите: **«Стоп интервью»** или **«Давай фидбэк»**. Лог сохраняется в `interview_log.json`.

## Агенты (по принципу одна функция — один агент)

- **Interviewer** — только ведёт диалог и задаёт вопросы. Не проверяет факты, не принимает решение о найме.
- **Observer** — только анализирует ответы кандидата, проверяет факты, офф-топик и галлюцинации, подсказывает Интервьюеру, куда вести беседу и как менять сложность.
- **Manager** — только вердикт по итогам: Grade, Hiring Recommendation, Confidence Score. Не ведёт диалог и не оформляет отчёт.
- **FeedbackWriter** — только оформляет итоговый отчёт по структуре ТЗ из вердикта Manager и лога. Не принимает решение о найме.
- **Extractor** — только извлекает из неструктурированного текста поля: имя, позиция, грейд, опыт.

Цепочка ответа: **Observer** (скрытая рефлексия) → **Interviewer** (видимое сообщение). Фидбэк: **Manager** (вердикт) → **FeedbackWriter** (текст отчёта).

## Структурированный ввод (таблица 5 столбцов)

Поддерживается формат: **имя, позиция, грейд, опыт, поведение**.  
**Поведение** — список пунктов «как отвечать на каждый вопрос» (для автоматического прогона сценария).  
Можно передать JSON (файл или объект) с ключами на русском или английском;

## Формат лога (interview_log.json)

- `participant_name` — ФИО на русском
- `turns` — массив ходов: `turn_id`, `user_message`, `internal_thoughts`, `agent_visible_message`
- `final_feedback` — структурированный отчёт (Вердикт, Hard Skills, Soft Skills, Roadmap)
- при сценарии в лог может добавляться `behavior` (список ответов по вопросам)

## Прогон сценария по списку реплик

```bash
python run_scenario.py
```

Или: режим 3 в `main.py` и путь к JSON с полем **поведение** (список реплик кандидата по порядку).
